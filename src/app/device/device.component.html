<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center pb-3">
    <div class="dropdown">
      <button class="btn dropdown-toggle" type="button" id="groupDropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="h1 fw-bold">Device</span>
      </button>
      <div class="dropdown-menu" aria-labelledby="groupDropdown">
        <!-- เพิ่มรายการ group ที่ต้องการให้เลือก -->
        <a class="dropdown-item" href="#" (click)="selectGroup(group)" *ngFor="let group of groups">{{ group }}</a>
      </div>
    </div>
    <!-- แสดงปุ่มเพิ่ม -->
    <button (click)="enableAddMode()" class="btn">
      <i class="bi bi-plus-circle-fill text-primary" style="font-size: 40px"></i>
    </button>
  </div>
  <!-- ส่วนอื่น ๆ ของเนื้อหาของคุณ -->
</div>


<!-- เพิ่มข้อมูล -->
<div *ngIf="addMode" class="container mt-3">
  <h3>เพิ่มข้อมูลใหม่</h3>
  <form (submit)="createNewData(newData)">
    <div class="form-group">
      <label for="new_device_id">ESP ID:</label>
      <input
        type="text"
        class="form-control"
        id="new_device_id"
        [(ngModel)]="newData.device_id"
        name="new_device_id"
        required
      />
    </div>
    <div class="form-group">
      <label for="new_device_name">Device Name:</label>
      <input
        type="text"
        class="form-control"
        id="new_device_name"
        [(ngModel)]="newData.device_name"
        name="new_device_name"
        required
      />
    </div>
    <div class="form-group">
      <label for="new_device_detail">Device Detail:</label>
      <input
        type="text"
        class="form-control"
        id="new_device_detail"
        [(ngModel)]="newData.device_detail"
        name="new_device_detail"
        required
      />
    </div>
    <div class="form-group">
      <label for="new_device_location">Device Location:</label>
      <input
        type="text"
        class="form-control"
        id="new_device_location"
        [(ngModel)]="newData.device_location"
        name="new_device_location"
        required
      />
    </div>
    <div class="form-group">
      <label for="new_device_type">Device Type:</label>
      <select class="form-control" id="new_device_type" [(ngModel)]="newData.device_type" name="new_device_type" required>
        <option value="1">ESP</option>
        <option value="2">Tuya</option>
      </select>
    </div>

    <div class="form-group">
      <label for="new_group_id">Group:</label>
      <select class="form-control" id="new_device_group" [(ngModel)]="newData.device_group" name="new_device_group" required>
        <option value="1">A</option>
        <option value="2">B</option>
      </select>
    </div>
  <div class = "mt-2">
    <button type="submit" class="btn btn-success me-2">Save</button>
    <button (click)="cancelAddMode()" class="btn btn-secondary">Cancel</button>
  </div>
  </form>
</div>

  <div class="row">
    <app-device-card></app-device-card>
    <app-table-device></app-table-device>
  </div>

